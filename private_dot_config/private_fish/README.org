#+title: Fish Config
#+description: Config file for the fish shell.
#+author: Sourajyoti Basak
#+email: wiz28@protonmail.com
#+property: header-args :tangle config.fish

* Table of Contents :toc:
- [[#metadata][Metadata]]
- [[#interactive-settings][Interactive settings]]
  - [[#startup-commands][Startup Commands]]
  - [[#fish-settings][Fish settings]]
  - [[#functions][Functions]]
- [[#autogenerated-settings][Autogenerated Settings]]
  - [[#envman][Envman]]
  - [[#ghcup][GHCup]]

* Metadata

Metadata about the config file.

#+BEGIN_SRC fish
# =============================================================================
#  __      __________   ______
# /  \    /  \_____  \ /  __  \
# \   \/\/   //  ____/ >      <
#  \        //       \/   --   \
#   \__/\  / \_______ \______  /
#        \/          \/      \/
# config.fish --- config for fish
# Copyright (c) 2021 Sourajyoti Basak
# Author: Sourajyoti Basak < wiz28@protonmail.com >
# URL: https://github.com/wizard-28/dotfiles/
# License: MIT
# =============================================================================
#+END_SRC

* Interactive settings

Configuration for the interactive shell.

#+begin_src fish
if status --is-interactive
#+end_src

** Startup Commands

#+begin_src fish
    starship init fish | source &
    zoxide init fish | source &
#+end_src

*** Aliases

#+begin_src fish
    alias l="exa --icons -F"
    alias la="exa --icons -aF"
    alias ll="exa --icons -Flah"
    alias bcat="batcat"
#+end_src

*** Keybindings

#+begin_src fish
    function fish_user_key_bindings
        bind --mode insert \co dev
    end
#+end_src

** Fish settings

#+begin_src fish
    fish_vi_cursor
    export PATH="/home/pop-os/.local/bin:$PATH"
#+end_src

** Functions

Utility functions for day-to-day usage.

*** Git

**** GSync

Syncs the local HEAD with the upstream.

#+begin_src fish
    function gsync
        git reset --hard HEAD~1
        git push -f
        git pull upstream $argv --rebase
        git push
    end
#+end_src

*** Pacup

A quick function to run `pacup` for all the pacscripts I maintain.

#+begin_src fish
    function pm
        set -l paths
        set -l pacscripts btop-bin caprine-deb dust-bin emacs fennel hyperfine-bin i3-gaps libressl librewolf-app oil opera-deb qogir-gtk-theme-bin qogir-icon-theme-bin shfmt-bin telegram-bin tmpmail-bin uwufetch walc-app zentile-bin fnlfmt fennel-bin
        for pacscript in $pacscripts
            set -a paths "~/code/bash/pacstall-programs/packages/$pacscript/$pacscript.pacscript"
        end
        cd ~/code/bash/pacstall-programs && pacup --ship $paths
    end
#+end_src


*** Misc

A function to generate a QR code.

#+begin_src fish
    function qrcode
        set input "$argv"
        [ -z "$input" ] && local input="@/dev/stdin"
        curl -d "$input" https://qrcode.show
    end
#+end_src


* Autogenerated Settings

End the interactive settings.

#+begin_src fish
end
#+end_src

** Envman

#+begin_src fish
# Generated for envman. Do not edit.
test -s "$HOME/.config/envman/load.fish"; and source "$HOME/.config/envman/load.fish"
#+end_src

** GHCup

#+begin_src fish
set -q GHCUP_INSTALL_BASE_PREFIX[1]; or set GHCUP_INSTALL_BASE_PREFIX $HOME ; set -gx PATH $HOME/.cabal/bin /home/wizard/.ghcup/bin $PATH # ghcup-env
#+end_src
